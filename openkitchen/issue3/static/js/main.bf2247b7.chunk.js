(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{552:function(e,t,n){},628:function(e,t,n){},629:function(e,t,n){},630:function(e,t,n){},634:function(e,t,n){"use strict";n.r(t);n(353),n(365);var a=n(67),c=n.n(a),o=n(118),r=(n(552),n(50)),i=n(82),s=n(15),l=n(28),d=n(5),j=n(7),u=n(9),h=n(10),b=n(0),O=n(119),x=n(80),p=n(188),m=n(206),f=n(115),g=n(335),y=n(1),w=n(209),v=n(186),k=n(637),C=n(94),F=n(8),S=k.a.TextArea;function D(e,t){return t=t||2,(new Array(t).join("0")+e).slice(-t)}var N=function(e,t,n,a,c){return Object(F.jsxs)("div",{align:"left",className:"instruction",children:[Object(F.jsxs)("div",{className:"container1",children:[Object(F.jsxs)("div",{className:"right1",children:[Object(F.jsx)("b",{children:"data:"})," ",Object(F.jsx)(S,{rows:10,onChange:c("data"),defaultValue:JSON.stringify(e)}),Object(F.jsx)("b",{children:"columns:"})," ",Object(F.jsx)(S,{rows:1,onChange:c("columns"),defaultValue:JSON.stringify(t)}),Object(F.jsx)("b",{children:"actions:"})," ",Object(F.jsx)(S,{rows:1,onChange:c("actions"),defaultValue:JSON.stringify(n)}),Object(F.jsx)("b",{children:"meta:"})," ",Object(F.jsx)(S,{rows:1,onChange:c("meta"),defaultValue:JSON.stringify(a)})]}),Object(F.jsxs)("div",{className:"left1",children:[Object(F.jsx)("h2",{children:"Readme"}),Object(F.jsx)("h4",{children:"1. Data are presented in three different ways: Table, 2D plot, 3D plot"}),Object(F.jsx)("h4",{children:"2. Change the dataset, all views are updated"}),Object(F.jsx)("h4",{children:"3. Click a record in table or in the plot(except 3D), the correspondent part will be highlighted"}),Object(F.jsx)("h2",{children:"How to get latest build easily"}),Object(F.jsxs)("ul",{children:[Object(F.jsxs)("li",{children:["Download",Object(F.jsx)(C.a,{type:"link",onClick:function(){return window.open("https://codeload.github.com/vision-creator/intro/zip/refs/heads/main","_blank")},children:"Zip File"}),"directly"]}),Object(F.jsxs)("li",{children:["Or from ",Object(F.jsx)(C.a,{type:"link",onClick:function(){return window.open("https://github.com/vision-creator/intro","_blank")},children:"Github intro site"}),' click "Code", and select "Download Zip"']})]}),Object(F.jsxs)("span",{children:["P.S. Source code is in",Object(F.jsx)(C.a,{type:"link",onClick:function(){return window.open("https://github.com/vision-creator/coal-ui","_blank")},children:"a private Github coal site"})]}),Object(F.jsx)("h2",{children:"How to update the data and view:"}),Object(F.jsx)("h4",{children:"1. Directly edit in TextAreas on the right side.For developers ONLY, playground for data format validation."}),Object(F.jsxs)("h4",{children:["2. Programmatically set the data using those pre-defined functions that binded on Object ",Object(F.jsx)("b",{children:"window.coal"}),", i.e.",Object(F.jsxs)("ul",{children:[Object(F.jsxs)("li",{children:[" If you can pass json object directly from .Net ",Object(F.jsx)("br",{}),Object(F.jsx)("code",{children:"window.coal.setData(json) , window.coal.setColumns(json), window.coal.setActions(json), window.coal.setMeta(json)"})]}),Object(F.jsxs)("li",{children:[" If you can ONLY pass string from .Net ",Object(F.jsx)("br",{}),Object(F.jsx)("code",{children:"window.coal.setDataString(jsonString) , window.coal.setColumnsString(jsonString), window.coal.setActionsString(jsonString), window.coal.setMetaString(jsonString)"})]})]})]}),Object(F.jsx)("h4",{children:"To see how it works: open F12 console and type(you may change some values to see if the views changes.):"}),Object(F.jsxs)("i",{children:[" window.coal.setData(",JSON.stringify(e),")"]})]})]}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{})]})},T=function(e){var t=e.border,n=e.className,a=void 0===n?"freebox":n,c=e.color,o=e.bgColor,r=e.len,i=e.x,l=e.y,d=e.height,j=e.align,u=e.onClick,h=e.onContextMenu,b=e.highlight,O=(o&&function(e){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");var t=(255-parseInt(e.slice(0,2),16)).toString(16),n=(255-parseInt(e.slice(2,4),16)).toString(16),a=(255-parseInt(e.slice(4,6),16)).toString(16);D(t),D(n),D(a)}(o),{width:r+"%",left:i+"%",top:100-l-d+"%",height:d+"%",background:o});void 0!==t&&(O=Object(s.a)({border:t+" solid "+c},O));var x=Object(f.useSpring)({from:{opacity:.1},opacity:1,reset:!0,config:{duration:600}});return O=b?Object(s.a)(Object(s.a)({},O),x):O,Object(F.jsx)(v.animated.div,{className:a,align:j,style:O,onClick:u,onContextMenu:h,children:e.children})},M=n(200),R=n.n(M),A=n(636),L=function(e){var t=R.a.query(e,"$..coal");return t=t.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{key:_(e.id,t.id)})})),t},I=function(e){var t=e;return Array.isArray(e)||(t=[e]),t.map(L).flat()},_=function(e,t){return e+"-C"+t},K=function(e,t,n){return e.map((function(e,t){return Object(s.a)(Object(s.a)({dataIndex:e.title,key:e.title},e),{},{render:function(t,a){return Object(F.jsx)(w.a,{overlay:n("tableColumnDefinition",a.id),trigger:["contextMenu"],children:Object(F.jsxs)("div",{width:"100%",children:[t,"\u8ba2\u5355\u53f7"===e.title?Object(F.jsx)("div",{className:"colorBox",style:{backgroundColor:a.color}}):""]})},"tableColumnDefinition")}})}))},U=function(e){var t=e.columns,n=e.actions,a=e.data,c=e.selectedRowKeys,o=e.handleOnRow,r=e.popMenu;return Object(F.jsx)("div",{className:"pageHeader tableBorder2",children:Object(F.jsx)(A.a,{columns:K(t,n,r),dataSource:I(a),scroll:{x:1500,y:250},bordered:!0,className:"coalTable",rowClassName:function(e){return e.key===c[0]?"data-row active-row":"data-row"},pagination:!1,onRow:o})})},P=function(e){var t=e.group,n=e.yardLen,a=e.yardLayers,c=e.selected,o=void 0!==c&&c,r=e.onClick,i=e.onContextMenu,l=t.coal,d=t.ranges,j=l.id,u=l.color,h=1/a*100,b=d&&d.map(E(j,n,a));return Object(F.jsx)(F.Fragment,{children:b&&b.map((function(e){return Object(F.jsx)(T,Object(s.a)(Object(s.a)({},e),{},{highlight:o,height:h,bgColor:u,border:o?"4px":"2px",onClick:r,onContextMenu:i}))}))})};function E(e,t,n){return function(a,c){return{key:"C"+e+"-R"+c,len:(a.end-a.start)/t*100,x:(a.start+t/2)/t*100,y:a.level/n*100,level:a.level,x1:a.start,len1:a.end-a.start}}}var B=function(e){var t=e.data,n=e.selectedRowKeys,a=e.onClick,c=e.popMenu,o=t.layers,r=t.groups,i=t.length,s=t.id,l=t.totalCurrent,d=1/o*.95*100;return Object(F.jsx)("div",{className:"relative tableBorder",children:Object(F.jsxs)("div",{className:"yardPlot ",children:[Object(F.jsxs)("div",{className:"totalCoal",children:[Object(F.jsx)("b",{className:"containerLabel",children:s}),Object(F.jsx)("br",{}),"\u5b58\u7164\u91cf:",l]}),Object(F.jsxs)("div",{className:"subPlot",children:[Object(F.jsx)("div",{className:"layerAxis",children:function(){for(var e=[],t=0;t<o;t++)e.push(Object(F.jsx)(T,{len:100,x:0,y:t/o*100,height:d,color:"#fefefe",children:Object(F.jsxs)("div",{className:"verticalMiddle",children:[t+1,"\u5c42"]})},"layerAxis-"+t));return e}()},"layerAxis"),Object(F.jsxs)("div",{className:"coalGroups",children:[function(){for(var e=[],t=0;t<=i;t+=20)e.push(Object(F.jsx)(T,{className:"scale",len:3,x:t/i*100,y:-10,height:10,color:"#cccccc",align:"left",children:t},"lengthAxis-"+t));return e}(),r.map((function(e){var t=_(s,e.coal.id);return Object(F.jsx)(w.a,{overlay:c("drawTank",e.coal.id),trigger:["contextMenu"],children:Object(F.jsx)("a",{children:Object(F.jsx)(P,{group:e,yardLen:i,yardLayers:o,selected:n&&n[0]===t,onClick:function(){console.log("CoalGroup clicked:",t),a(t)},onContextMenu:function(){console.log("CoalGroup context menu:",t),a(t)}},t)})},t)}))]},"coalGroups")]})]})},s)};Object(x.d)({OrbitControls:p.a}),y.b.assign({frameLoop:"always"});var J=function(e){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"yard3D2 tableBorder",children:Object(F.jsx)(x.a,{resize:{polyfill:m.a},camera:{position:[0,80,180],fov:10},children:Object(b.createElement)(G,Object(s.a)(Object(s.a)({},e),{},{key:e.data.id}))})})})},G=function(e){var t=Object(x.e)(),n=t.invalidate,a=t.camera,c=t.gl.domElement,o=Object(b.useRef)(),r=e.data,i=e.selectedRowKeys,s=r.length,l=r.layers,d=r.groups,j=r.id;Object(b.useEffect)((function(){var e=null;return o.current&&((e=o.current).addEventListener("change",n),console.debug("3D UseEffect - Register Listener")),function(){e.removeEventListener("change",n),console.debug("3D UseEffect - Deregister Listener")}}),[]);var u=d.map((function(e){return e.ranges?H({selectedRowKeys:i,containerId:j,group:e,length:s,layers:l}):Object(F.jsx)(F.Fragment,{})}));return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("ambientLight",{}),Object(F.jsx)("pointLight",{position:[10,20,10]}),u,Object(F.jsx)("orbitControls",{ref:o,args:[a,c]})]})},H=function(e){var t=e.selectedRowKeys,n=e.containerId,a=e.group,c=e.length,o=e.layers,r=t&&t[0]===_(n,a.coal.id),i=a.coal.color,s=Number(r),l=Object(f.useSpring)({spring:s,config:{duration:r?500:1}}).spring.to([0,.5,1],[i,"#ffffff",i]);return a.ranges.map(E(a.coal.id,c,o)).map((function(e){var t=-50+e.x+e.len/2,n=3*e.level-5,a=e.len-.5,c=15-e.level;return Object(F.jsx)(z,{position:[t,n,0],mygeometry:[a,2.9,c],color:l},e.key)}))};function z(e){var t=e.color,n=e.mygeometry;return Object(F.jsxs)("mesh",Object(s.a)(Object(s.a)({},e),{},{children:[Object(F.jsx)("boxBufferGeometry",{attach:"geometry",args:n}),Object(F.jsx)(g.a.meshStandardMaterial,{color:t})]}))}var V=function(e){var t=e.data,n=e.selectedRowKeys,a=e.onClick,c=e.popMenu,o=t.id;return Object(F.jsx)("div",{className:"drawTank",children:t.groups.map((function(e){var r=100*e.thickness/t.tankheight,i=e.coal.color,s=_(o,e.coal.id),l=n&&n[0]===s,d=c("drawTank",e.coal.id);return Object(F.jsx)(W,{_menu:d,highlight:l,coalKey:s,color:"black",bgColor:i,height:r+"%",onClick:a,children:e.thickness})}))})},W=function(e){var t=e.coalKey,n=e.color,a=e.bgColor,c=e.height,o=e.onClick,r=e.highlight,i=e.children,l=e._menu,d=Object(f.useSpring)({from:{opacity:1,backgroundColor:"#ffffff"},opacity:1,backgroundColor:a,reset:!0,config:{duration:600}}),j={color:n,backgroundColor:a,height:c,cursor:"pointer"};return j=r?Object(s.a)(Object(s.a)({},j),d):j,Object(F.jsx)(w.a,{overlay:l,trigger:["contextMenu"],children:Object(F.jsx)(f.animated.div,{className:"tankLayer",style:j,onClick:function(){o(t)},onContextMenu:function(){console.debug("TankDiv onContextMenu"),o(t)},children:i},t)},t)},Y=[{title:"\u7164\u79cd"},{title:"\u5b58\u7164\u91cf"},{title:"\u70ed\u503c"}],q=function(e){var t=e.data,n=e.selectedRowKeys;return Object(F.jsx)("div",{className:"tankTable",children:Object(F.jsx)(A.a,{columns:X(Y),dataSource:$(t),scroll:{x:200,y:250},size:"small",bordered:!0,pagination:!1,rowSelection:{selectedRowKeys:n,type:"radio",columnWidth:0,renderCell:function(){return""}},summary:function(e){var t=0,n=0;return e.forEach((function(e){var a=e.\u5b58\u7164\u91cf,c=e.\u70ed\u503c;t+=parseFloat(a),n+=parseFloat(c)})),Object(F.jsx)(A.a.Summary,{fixed:!0,children:Object(F.jsxs)(A.a.Summary.Row,{children:[Object(F.jsx)(A.a.Summary.Cell,{}),Object(F.jsx)(A.a.Summary.Cell,{children:Object(F.jsx)("b",{children:"\u5408\u8ba1"})}),Object(F.jsx)(A.a.Summary.Cell,{children:Object(F.jsx)("b",{children:t})}),Object(F.jsx)(A.a.Summary.Cell,{children:Object(F.jsx)("b",{children:n})})]})})}})})},Z=function(e){var t=R.a.query(e,"$..coal");return t=t.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{key:_(e.id,t.id)})})),t.reverse()},$=function(e){var t=e;return Array.isArray(e)||(t=[e]),t.map(Z).flat()},X=function(e){return e.map((function(e,t){return Object(s.a)({dataIndex:e.title,key:e.title},e)}))},Q=function(e){var t=e.data;return Object(F.jsxs)("div",{className:"tankPlot",children:[Object(F.jsx)("b",{className:"containerLabel",children:t.id}),Object(F.jsxs)("div",{children:[Object(F.jsx)(V,Object(s.a)({},e),"DrawTank-"+t.id),Object(F.jsx)(q,Object(s.a)({},e),"TankTable-"+t.id)]})]})},ee=(n(628),{showInstructions:!1,show2D:!0,show3D:!0,showTank:!0,showTable:!0}),te=[{name:"\u64cd\u4f5cA",type:"row"},{name:"\u64cd\u4f5cB",type:"row"},{name:"\u64cd\u4f5cC",type:"row"},{name:"\u64cd\u4f5c\u4e8c",type:"yard"},{name:"\u64cd\u4f5c\u4e09",type:"tank"},{name:"\u64cd\u4f5c\u56db",type:"global"}],ne=[{title:"\u7164\u79cd"},{title:"\u8ba2\u5355\u53f7"},{title:"\u5806\u671f"},{title:"\u8239\u540d"},{title:"\u5b58\u7164\u91cf"},{title:"\u70ed\u503c"},{title:"\u6c34\u4efd"},{title:"\u6325\u53d1\u4efd"},{title:"\u7070\u4efd"},{title:"\u786b\u4efd"},{title:"T2"},{title:"\u72b6\u6001",width:120}],ae={id:"\u7164\u58065",type:"yard",totalCurrent:9e4,length:361,layers:6,groups:[{coal:{id:1,color:"#00a0e9","\u7164\u79cd":"\u6709\u6570\u636e1\u53ef\u4ee5\u70b9\u51fb","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"},ranges:[{extended:!0,level:4,start:-160,end:-140},{extended:!0,level:5,start:-160,end:-140},{level:0,start:-160,end:140},{level:1,start:-160,end:-140},{level:2,start:-160,end:-140},{level:3,start:-160,end:-140}]},{coal:{id:2,color:"#FF00FF","\u7164\u79cd":"\u6709\u6570\u636e2\u53ef\u4ee5\u70b9\u51fb","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"},ranges:[{extended:!0,level:4,start:-140,end:-120},{extended:!0,level:5,start:-140,end:-120},{level:0,start:140,end:180},{level:1,start:-140,end:-120},{level:2,start:-140,end:-100},{level:3,start:-140,end:-100}]},{coal:{id:3,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:4,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:5,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:6,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:7,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:8,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:9,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:10,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:11,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:12,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}},{coal:{id:13,color:"#FF00FF","\u7164\u79cd":"\u795e\u534e\u5916#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"6\u670827\u65e5","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1"}}]},ce=[ae,Object(s.a)(Object(s.a)({},ae),{},{id:"\u7164\u58066"})],oe={id:"\u7164\u7f501",type:"tank",totalCurrent:"90000",totalOrigin:"100000",totalDelta:"10000",tankheight:"30",tankradius:"16",groups:[{thickness:"5",coal:{id:"56868",color:"#00a0e9","\u7164\u79cd":"\u7164\u7f50\u7164#200","\u8ba2\u5355\u53f7":"56868","\u5806\u671f":"40678","\u8239\u540d":"\u660e\u5dde25","\u5b58\u7164\u91cf":"5125","\u70ed\u503c":"5021","\u6c34\u4efd":"17.99","\u6325\u53d1\u4efd":"25.56","\u7070\u4efd":"13.23","\u786b\u4efd":"0.53",T2:"1210","\u72b6\u6001":"\u590d\u5ba1","\u539f\u5b58\u91cf":"5225","\u589e\u51cf\u91cf":"-100"}},{thickness:"5",coal:{id:"57912",color:"#FF0000","\u7164\u79cd":"\u7164\u7f50\u71642","\u8ba2\u5355\u53f7":"57912","\u5806\u671f":"40717","\u8239\u540d":"\u65d7\u79655","\u5b58\u7164\u91cf":"6805","\u70ed\u503c":"4853","\u6c34\u4efd":"8.63","\u6325\u53d1\u4efd":"22.77","\u7070\u4efd":"27.68","\u786b\u4efd":"1.07",T2:"1330","\u72b6\u6001":"\u590d\u5ba1","\u539f\u5b58\u91cf":"6805","\u589e\u51cf\u91cf":"0","\u5907\u6ce8":"\u8fd9\u91cc\u662f\u5907\u6ce8",name:"\u9655\u7164123"}},{thickness:"5",coal:{id:"57913",color:"#00FF00","\u7164\u79cd":"\u7164\u7f50\u71643","\u8ba2\u5355\u53f7":"57912","\u5806\u671f":"40717","\u8239\u540d":"\u65d7\u79655","\u5b58\u7164\u91cf":"6805","\u70ed\u503c":"4853","\u6c34\u4efd":"8.63","\u6325\u53d1\u4efd":"22.77","\u7070\u4efd":"27.68","\u786b\u4efd":"1.07",T2:"1330","\u72b6\u6001":"\u590d\u5ba1","\u539f\u5b58\u91cf":"6805","\u589e\u51cf\u91cf":"0",name:"\u9655\u7164123"}},{thickness:"5",coal:{id:"57923",color:"#eeFF00","\u7164\u79cd":"\u7164\u7f50\u71643","\u8ba2\u5355\u53f7":"57912","\u5806\u671f":"40717","\u8239\u540d":"\u65d7\u79655","\u5b58\u7164\u91cf":"6805","\u70ed\u503c":"4853","\u6c34\u4efd":"8.63","\u6325\u53d1\u4efd":"22.77","\u7070\u4efd":"27.68","\u786b\u4efd":"1.07",T2:"1330","\u72b6\u6001":"\u590d\u5ba1","\u539f\u5b58\u91cf":"6805","\u589e\u51cf\u91cf":"0",name:"\u9655\u7164123"}},{thickness:"10",coal:{id:"57924",color:"#00FFee","\u7164\u79cd":"\u7164\u7f50\u71643","\u8ba2\u5355\u53f7":"57912","\u5806\u671f":"40717","\u8239\u540d":"\u65d7\u79655","\u5b58\u7164\u91cf":"6805","\u70ed\u503c":"4853","\u6c34\u4efd":"8.63","\u6325\u53d1\u4efd":"22.77","\u7070\u4efd":"27.68","\u786b\u4efd":"1.07",T2:"1330","\u72b6\u6001":"\u590d\u5ba1","\u539f\u5b58\u91cf":"6805","\u589e\u51cf\u91cf":"0",name:"\u9655\u7164123"}}]},re=[oe,Object(s.a)(Object(s.a)({},oe),{},{id:"\u7164\u7f502"}),Object(s.a)(Object(s.a)({},oe),{},{id:"\u7164\u7f503"}),Object(s.a)(Object(s.a)({},oe),{},{id:"\u7164\u7f504"}),Object(s.a)(Object(s.a)({},oe),{},{id:"\u7164\u7f505"}),Object(s.a)(Object(s.a)({},oe),{},{id:"\u7164\u7f506"}),Object(s.a)(Object(s.a)({},oe),{},{id:"\u7164\u7f507"})],ie=([].concat(ce,re),{data:ce,columns:ne,actions:te,meta:Object(s.a)(Object(s.a)({},ee),{},{show3D:!1,showTank:!1})}),se={data:ae,columns:ne,actions:te,meta:Object(s.a)(Object(s.a)({},ee),{},{show2D:!1,showTank:!1})},le={yards:ie,tanks:{data:re,columns:ne,actions:te,meta:Object(s.a)(Object(s.a)({},ee),{},{show2D:!1,show3D:!1})},yard3d:se},de=["inputData"],je="yard",ue=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).initState=function(e){var t=e.type,n=e.dataUrl;return{data:le[t].data,columns:le[t].columns,actions:le[t].actions,meta:le[t].meta,selectedRowKeys:[],type:t,dataUrl:n}},e.state=e.initState(e.props),e.fetchData=function(){fetch(e.props.dataUrl).then((function(e){return e.json()})).then((function(t){e.setState({data:t})})).catch(console.log)},e.updateDimensions=function(){var t="0px";t=e.state.meta.showTable?window.innerHeight-320+"px":window.innerHeight-10+"px",console.log("updateDim",t),e.setState({bottomHeight:t})},e._setData=function(t){return function(n){console.log("Set",t,n),e.setState(Object(l.a)({},t,n),(function(){console.log("To update DIM"),e.updateDimensions()}))}},e._setDataString=function(t){return function(n){try{var a=JSON.parse(n);e._setData(t)(a)}catch(c){console.log("Parameter in set ".concat(t," string cannot be parsed as JSON, ").concat(c))}}},e._setStateField=function(t){return function(n){try{var a=JSON.parse(n.target.value);e._setData(t)(a)}catch(n){console.log("Input is not correct",n)}}},e.handleOnRow=function(t,n){return{onClick:function(n){e.setState({selectedRowKeys:[t.key]})},onContextMenu:function(n){e.setState({selectedRowKeys:[t.key]})}}},e.handleOnPlotClick=function(t){e.setState({selectedRowKeys:[t]},(function(){return document.querySelector(".active-row").scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}))},e.popMenu=function(t,n){return Object(F.jsx)(pe,{actions:e.state.actions,coalId:n},t)},e}return Object(j.a)(n,[{key:"UNUSED_componentWillReceiveProps",value:function(e){e.type===this.props.type&&e.dataUrl===this.props.dataUrl||this.setState(this.initState(e),this.fetchData)}},{key:"componentDidMount",value:function(){var e=this;window.coal={},window.coal.setData=this._setData("data"),window.coal.setColumns=this._setData("columns"),window.coal.setActions=this._setData("actions"),window.coal.setMeta=this._setData("meta"),window.coal.setDataString=this._setDataString("data"),window.coal.setColumnsString=this._setDataString("columns"),window.coal.setActionsString=this._setDataString("actions"),window.coal.setMetaString=this._setDataString("meta"),window.coal.showInstructions=function(){window.coal.setMeta(Object(s.a)(Object(s.a)({},e.state.meta),{},{showInstructions:!e.state.meta.showInstructions}))},this.fetchData(),window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.columns,a=e.actions,c=e.selectedRowKeys,o=e.meta;return Object(F.jsxs)(F.Fragment,{children:[o.showTable&&Object(F.jsx)(U,{columns:n,actions:a,data:t,selectedRowKeys:c,handleOnRow:this.handleOnRow,popMenu:this.popMenu}),Object(F.jsxs)("div",{className:"pageBottom",style:{height:this.state.bottomHeight},children:[o.show2D&&Object(F.jsx)(be,{inputData:t,selectedRowKeys:c,onClick:this.handleOnPlotClick,popMenu:this.popMenu}),o.show3D&&Object(F.jsx)(Oe,{inputData:t,selectedRowKeys:c}),o.showTank&&Object(F.jsx)(xe,{inputData:t,actions:a,selectedRowKeys:c,onClick:this.handleOnPlotClick,popMenu:this.popMenu}),o.showInstructions&&N(t,n,a,o,this._setStateField)]})]})}}]),n}(b.Component),he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je;return function(n){var a=n.inputData,c=Object(i.a)(n,de);return Array.isArray(a)||(a=[a]),a.filter((function(e){return e.type===t})).map((function(t){return Object(F.jsx)(e,Object(s.a)({data:t},c),t.id)}))}},be=he(B,je),Oe=he(J,je),xe=he(Q,"tank"),pe=function(e){e.key;var t=e.actions,n=e.coalId,a=t.filter((function(e){return"row"===e.type}));return Object(F.jsx)(O.a,{onClick:function(e){console.log("To: Buddy, Subject: Link Clicked, calling window.external.callFromCoal() if exists, Parameters: ".concat(e.key,", ").concat(n)),window.external.callFromCoal&&window.external.callFromCoal(e.key,n)},children:a.map((function(e,t){return Object(F.jsx)(O.a.Item,{children:e.name},e.name)}))})},me=n(32);n(629);Object(x.d)({OrbitControls:p.a});var fe=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)("div",{className:"right",children:"Right"}),Object(F.jsx)("div",{className:"left",children:"Left"})]}),Object(F.jsx)("div",{children:"abc"}),Object(F.jsx)("div",{style:{height:"400px"},children:Object(F.jsxs)(x.a,{resize:{polyfill:m.a},camera:{position:[0,5,17],fov:20},children:[Object(F.jsx)("ambientLight",{}),Object(F.jsx)("pointLight",{position:[10,20,10]}),Object(F.jsx)(ge,{})]})}),Object(F.jsx)("div",{children:"def"})]})},ge=function(){var e=Object(x.e)(),t=e.camera,n=e.gl.domElement;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ye,{position:[-4,.5,0],geometry:[2,1,1]}),Object(F.jsx)(ye,{position:[0,.5,0]}),Object(F.jsx)("orbitControls",{args:[t,n]})]})};function ye(e){var t=Object(b.useRef)(),n=Object(b.useState)(!1),a=Object(me.a)(n,2),c=a[0],o=a[1],r=Object(b.useState)(!1),i=Object(me.a)(r,2),l=i[0],d=i[1];return Object(F.jsxs)("mesh",Object(s.a)(Object(s.a)({},e),{},{ref:t,scale:l?1.5:1,onClick:function(e){return d(!l)},onPointerOver:function(e){return o(!0)},onPointerOut:function(e){return o(!1)},children:[Object(F.jsx)("boxGeometry",{args:e.geometry||[2,1,1]}),Object(F.jsx)("meshStandardMaterial",{color:c?"hotpink":"orange"})]}))}n(630);function we(){return document.cookie.indexOf("instruction=1")>=0?Object(F.jsxs)("header",{className:"App-header",children:["Coal V2 Tank",Object(F.jsx)(o.c,{to:"/yard?dataUrl=./assets/yards.json",className:"App-link",children:"Yard"}),Object(F.jsx)(o.c,{to:"/tank?dataUrl=./assets/tanks.json",className:"App-link",children:"Tank"}),Object(F.jsx)(o.c,{to:"/yard3d?dataUrl=./assets/yard.json",className:"App-link",children:"Yard3d"}),Object(F.jsx)(C.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.637)"},type:"link",onClick:function(){return window.coal.showInstructions()},children:"\u70b9\u51fb\u8fd9\u91cc\uff0c\u6253\u5f00\u4f7f\u7528\u8bf4\u660e"})]}):""}var ve=function(){var e=new URLSearchParams(Object(r.f)().hash.substring(Object(r.f)().hash.indexOf("?"))).get("dataUrl");return"localhost"===window.location.hostname||"file:"===window.location.protocol||document.cookie.indexOf("show=1")>=0?Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(o.b,{children:Object(F.jsxs)(r.c,{children:[Object(F.jsxs)(r.a,{exact:!0,path:["/yard","/"],children:[Object(F.jsx)(we,{}),Object(F.jsx)(ue,{type:"yards",dataUrl:e},e)]}),Object(F.jsxs)(r.a,{path:"/tank",children:[Object(F.jsx)(we,{}),Object(F.jsx)(ue,{type:"tanks",dataUrl:e},e)]}),Object(F.jsxs)(r.a,{path:"/yard3d",children:[Object(F.jsx)(we,{}),Object(F.jsx)(ue,{type:"yard3d",dataUrl:e},e)]}),Object(F.jsx)(r.a,{path:"/test",children:Object(F.jsx)(fe,{})})]})})}):Object(F.jsxs)("div",{className:"App",children:["Test page",Object(F.jsx)("br",{}),"Welcome!"]})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,638)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};c.a.render(Object(F.jsx)(o.a,{children:Object(F.jsx)(ve,{})}),document.getElementById("root")),ke()}},[[634,1,2]]]);